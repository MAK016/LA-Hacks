<!DOCTYPE html>
<html>
    
<img border="0" src="/images/pulpit.jpg" alt="Pulpit rock" width="304" height="228">
    
<script>
	var longitude; //double
	var latitude; //double
	var timeOfBirth; //double
	var age; //double
	var priorityPoints;
	var priority; //how high priority the photo is
	var size; //how big the photo will be displayed
	var ratio; //conversion from priority to size
	var SCREENSIZE; //phone screen size
	var pic;
	double screenRepresentationalSize; //how big the screen represents geographically
	double final MINTHRESH; //minimum size a photo can be
	double final MAXTHRESH; //maximum size a photo can be	
	
	function Photo (aLongitude, aLatitude)
	{
		longitude = aLongitude;
		latitude = aLatitude;
		timeOfBirth = getTime();
		priorityPoints = 0.0;
		updatePriority();
		pic = document.images;
		SCREENSIZE = Math.sqrt(pow(screen.availHeight(),2) + pow(screen.availWidth(),2));
		size = pic.width() > pic.length() ? pic.width():pic.length();
	}
	
	function updateAge()
	{
		age = getTime() - timeOfBirth;
	}
	
	function updatePriority()
	{
		priorityPoints += (pic.width()*pic.length())/(screen.availHeight()*screen.availWidth());
		updateAge();
		priority = (1 - age/86400000)*priorityPoints;
	}
	
	function updateRatio()
	{
		ratio = SCREENSIZE/screenRepresentationalSize;
	}
	
	function updateSize()
	{
		var maybeSize = new double;
		maybeSize = priority*ratio;
		if (maybeSize > MINTHRESH && maybeSize <= MAXTHRESH)
		{
			size = maybeSize;
		}
		else if (maybeSize > MAXTHRESH)
		{
			size = MAXTHRESH;
		}
		else
		{
			size = 0;
		}
		updatePriority();
	}
</script>
</html>